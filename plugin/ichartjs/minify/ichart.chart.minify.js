(function(f){function z(a){"string"===typeof a&&(a=f(a));if(!a||!a.tagName||"canvas"!=a.tagName.toLowerCase())throw Error("there not a canvas element");this.canvas=a;this.c=this.canvas.getContext("2d")}var r=Math.PI,w=r/90,B=w/2,v=Math.ceil,q=Math.floor,x=2*r,t=Math.max,u=Math.min,p=Math.sin,s=Math.cos,j=function(a,b){return 1==a?q(b)+0.5:Math.round(b)},A=function(a,b,d,c){var g=b.x,h=b.y,k=a[d-1],i=a[d+1],n,e;if(d<a.length-1){var a=k.y,d=i.y,f;n=(c*g+k.x)/(c+1);e=(c*h+a)/(c+1);i=(c*g+i.x)/(c+1);c=(c*h+d)/(c+1);f=(c-e)*(i-g)/(i-n)+h-c;e+=f;c+=f;e>a&&e>h?(e=t(a,h),c=2*h-e):e<a&&e<h&&(e=u(a,h),c=2*h-e);c>d&&c>h?(c=t(d,h),e=2*h-c):c<d&&c<h&&(c=u(d,h),e=2*h-c);b.rcx=i;b.rcy=c}return[k.rcx||k.x,k.rcy||k.y,n||g,e||h,g,h]},y=function(a){return f.isNumber(a)?a:f.parseFloat(a,a)},C=function(a,b){var d,c=0,g,h=0,k=!1,i=b.get("labels");b.data=a;if("simple"==b.dataType)b.total=0,a.each(function(a){a.background_color=a.color;c=a.value;if(f.isArray(c)){var e=0;h=c.length>h?c.length:h;for(var i=0;i<c.length;i++)c[i]=y(c[i]),e+=c[i],k||(d=g=c[i],k=!0),d=t(c[i],d),g=u(c[i],g);a.total=e}else c=y(c),a.value=c,b.total+=c,k||(d=g=c,k=!0),d=t(c,d),g=u(c,g)},b),f.isArray(i)&&(h=i.length>h?i.length:h),b.push("maxItemSize",h);else if("stacked"==b.dataType||"complex"==b.dataType){var n=i.length,e,m,l,j="stacked"==b.dataType;if(0==n)for(var n=a[0].value.length,o=0;o<n;o++)i.push("");b.columns=[];for(o=0;o<n;o++)e=[],m=0,a.each(function(b,h){if(c=b.value[o])b.value[o]=c=y(c,c),m+=c,j?l=a[h].color:(l=b.color,k||(d=g=c,k=!0),d=t(c,d),g=u(c,g)),e.push({name:b.name,value:b.value[o],background_color:l,color:l})}),j&&(k||(d=g=c,k=!0),d=t(m,d),g=u(m,g)),b.columns.push({total:m,name:i[o],item:e})}b.push("minValue",g);b.push("maxValue",d);b.doConfig();b.initialization=!0};z.prototype={getContext:function(){return this.c},css:function(a,b){if(f.isDefined(b))this.canvas.style[a]=b;else return this.canvas.style[a]},ellipse:function(a,b,d,c,g,h,k,i,n,e,f,l,j,o){j=!!j;this.save().gCo(o).strokeStyle(i,n,e).shadowOn(f).fillStyle(k).moveTo(a,b).beginPath();for(j&&this.moveTo(a,b);g<=h;)this.lineTo(a+d*s(g),b+c*p(g)),g+=w;return this.lineTo(a+d*s(h),b+c*p(h)).closePath().stroke(i).fill(k).restore()},arc:function(a,b,d,c,g,h,k,i,f,e,m,l,j,o){if(!d)return this;this.save().gCo(o).strokeStyle(i,f,e).fillStyle(k).beginPath();i&&(d-=q(f/2));c?(this.moveTo(a+s(g)*(d-c),b+p(g)*(d-c)).lineTo(a+s(g)*d,b+p(g)*d),this.c.arc(a,b,d,g,h,l),this.lineTo(a+s(h)*(d-c),b+p(h)*(d-c)),this.c.arc(a,b,d-c,h,g,!l)):(this.c.arc(a,b,d,g,h,l),j&&this.lineTo(a,b));this.closePath();i?this.shadowOn(m).stroke(i).shadowOff().fill(k):this.shadowOn(m).fill(k);return this.restore()},sector:function(a,b,d,c,g,h,k,i,f,e,m,l,j,o){m&&this.arc(a,b,d,c,g,h,k,i,f,e,m,l,!j,!o);return this.arc(a,b,d,c,g,h,k,i,f,e,!1,l,!j)},sector3D:function(){var a=function(a,b,d,c,n,e,m,l,j){var m=function(e,f){this.lineTo(a+d*s(e),b+(f||0)+c*p(e))},o=n;for(this.fillStyle(f.dark(j)).moveTo(a+d*s(n),b+c*p(n)).beginPath();o<=e;)m.call(this,o),o+=w;m.call(this,e);this.lineTo(a+d*s(e),b+l+c*p(e));for(o=e;o>=n;)m.call(this,o,l),o-=w;m.call(this,n,l);this.lineTo(a+d*s(n),b+c*p(n)).closePath().fill(!0)},b=function(a,b,d,c,f,e,m,l){d=a+d*s(m);c=b+e+c*p(m);this.moveTo(a,b).beginPath().fillStyle(l).lineTo(a,b+e).lineTo(d,c).lineTo(d,c-e).lineTo(a,b).closePath().fill(!0)},d=function(a,d,c,i,n,e,m,l,j){var o=f.quadrantd(n),q=f.quadrantd(e),j=f.dark(j);(1==o||2==o)&&b.call(this,a,d,c,i,m,l,n,j);(0==q||3==q)&&b.call(this,a,d,c,i,m,l,e,j)},c=function(b,c,k,i,f,e,j,l,q,o,p,s,r){this.ellipse(b,c+j,k,i,f,e,l,q,o,p,s,r,!0);d.call(this,b,c,k,i,f,e,r,j,l);this.ellipse(b,c,k,i,f,e,l,q,o,p,!1,r,!0);a.call(this,b,c,k,i,f,e,r,j,l);return this};c.layerPaint=d;c.sPaint=a;c.layerDraw=b;return c}(),textStyle:function(a,b,d){return this.textAlign(a).textBaseline(b).textFont(d)},strokeStyle:function(a,b,d,c){if(a&&(b&&(this.c.lineWidth=b),d&&(this.c.strokeStyle=d),c))this.c.lineJoin=c;return this},globalAlpha:function(a){a&&(this.c.globalAlpha=a);return this},fillStyle:function(a){a&&(this.c.fillStyle=a);return this},arc2:function(a,b,d,c,g,h){d&&this.c.arc(a,b,d,c,g,h);return this},textAlign:function(a){a&&(this.c.textAlign=a);return this},textBaseline:function(a){a&&(this.c.textBaseline=a);return this},textFont:function(a){a&&(this.c.font=a);return this},shadowOn:function(a){a&&(this.c.shadowColor=a.color,this.c.shadowBlur=a.blur,this.c.shadowOffsetX=a.offsetx,this.c.shadowOffsetY=a.offsety);return this},shadowOff:function(){this.c.shadowColor="white";this.c.shadowBlur=this.c.shadowOffsetX=this.c.shadowOffsetY=0;return this},gradient:function(a,b,d,c,g,h,k){var h=h.toLowerCase(),i=a,f=b,e=!h.indexOf("linear"),h=h.substring(14);if(e){switch(h){case "updown":f+=c;break;case "downup":b+=c;break;case "leftright":i+=d;break;case "rightleft":a+=d;break;default:return g[0]}return this.avgLinearGradient(a,b,i,f,g)}a+=d/2;b+=c/2;return this.avgRadialGradient(a,b,k||0,a,b,d>c?c:d,"outin"==h?g.reverse():g)},avgLinearGradient:function(a,b,d,c,g){a=this.createLinearGradient(a,b,d,c);for(b=0;b<g.length;b++)a.addColorStop(b/(g.length-1),g[b]);return a},createLinearGradient:function(a,b,d,c){return this.c.createLinearGradient(a,b,d,c)},avgRadialGradient:function(a,b,d,c,g,h,f){a=this.createRadialGradient(a,b,d,c,g,h);for(b=0;b<f.length;b++)a.addColorStop(b/(f.length-1),f[b]);return a},createRadialGradient:function(a,b,d,c,g,h){return this.c.createRadialGradient(a,b,d,c,g,h)},text:function(a,b,d,c,g,h,f,i,j,e,m,l){return this.save().textStyle(h,f,i).fillText(a,b,d,c,g,j,e,m,l).restore()},fillText:function(a,b,d,c,g,h,f,i,j){a=a.toString();if(!a||!a.length)return this;c=c||!1;f=f||16;a=a.split("tb"==(h||"lr")?"":"\n");1<a.length&&("middle"==this.c.textBaseline?d-=(a.length-1)*f/2:"bottom"==this.c.textBaseline&&(d-=(a.length-1)*f));this.save().fillStyle(g).translate(b,d).rotate(B*j).shadowOn(i);a.each(function(a,g){try{c?this.c.fillText(a,0,g*f,c):this.c.fillText(a,0,g*f)}catch(h){console.log(h.message+"["+a+","+b+","+d+"]")}},this);return this.restore()},measureText:function(a){var a=a.split("\n"),b=0;a.each(function(a){b=t(this.measureText(a).width,b)},this.c);return b},moveTo:function(a,b){this.c.moveTo(a||0,b||0);return this},lineTo:function(a,b){this.c.lineTo(a||0,b||0);return this},save:function(){this.c.save();return this},restore:function(){this.c.restore();return this},beginPath:function(){this.c.beginPath();return this},closePath:function(){this.c.closePath();return this},stroke:function(a){a&&this.c.stroke();return this},fill:function(a){a&&this.c.fill();return this},cube:function(a,b,d,c,g,h,k,i,n,e,m,l){a=j(e,a);b=j(e,b);k=k&&0<k?k:g;c=b-k*c;d=j(e,a+k*d);c=j(e,c);l&&(this.polygon(i,n,e,m,l,!1,[{x:a,y:b},{x:d,y:c},{x:d+g,y:c},{x:a+g,y:b}]),this.polygon(i,n,e,m,l,!1,[{x:a,y:b},{x:a,y:b+h},{x:a+g,y:b+h},{x:a+g,y:b}]),this.polygon(i,n,e,m,l,!1,[{x:a+g,y:b},{x:d+g,y:c},{x:d+g,y:c+h},{x:a+g,y:b+h}]));this.polygon(f.dark(i),n,e,m,!1,!1,[{x:a,y:b},{x:d,y:c},{x:d+g,y:c},{x:a+g,y:b}]);this.polygon(i,n,e,m,!1,!1,[{x:a,y:b},{x:a,y:b+h},{x:a+g,y:b+h},{x:a+g,y:b}]);this.polygon(f.dark(i),n,e,m,!1,!1,[{x:a+g,y:b},{x:d+g,y:c},{x:d+g,y:c+h},{x:a+g,y:b+h}]);return this},cube3D:function(a,b,d,c,g,h,k,i,n,e,m,l){a=j(e,a);b=j(e,b);i=!i||0==i?h:i;g?(c=f.vectorP2P(d,c),d=a+i*c.x,c=b-i*c.y):(d=a+i*d,c=b-i*c);for(;6>l.length;)l.push(!1);d=j(e,d);c=j(e,c);i=[];0>c?f.isObject(l[4])&&i.push(f.applyIf({points:[{x:a,y:b-k},{x:d,y:c-k},{x:d+h,y:c-k},{x:a+h,y:b-k}]},l[4])):f.isObject(l[0])&&i.push(f.applyIf({points:[{x:a,y:b},{x:d,y:c},{x:d+h,y:c},{x:a+h,y:b}]},l[0]));f.isObject(l[1])&&i.push(f.applyIf({points:[{x:d,y:c},{x:d,y:c-k},{x:d+h,y:c-k},{x:d+h,y:c}]},l[1]));f.isObject(l[2])&&i.push(f.applyIf({points:[{x:a,y:b},{x:a,y:b-k},{x:d,y:c-k},{x:d,y:c}]},l[2]));f.isObject(l[3])&&i.push(f.applyIf({points:[{x:a+h,y:b},{x:a+h,y:b-k},{x:d+h,y:c-k},{x:d+h,y:c}]},l[3]));0>c?f.isObject(l[0])&&i.push(f.applyIf({points:[{x:a,y:b},{x:d,y:c},{x:d+h,y:c},{x:a+h,y:b}]},l[0])):f.isObject(l[4])&&i.push(f.applyIf({points:[{x:a,y:b-k},{x:d,y:c-k},{x:d+h,y:c-k},{x:a+h,y:b-k}]},l[4]));f.isObject(l[5])&&i.push(f.applyIf({points:[{x:a,y:b},{x:a,y:b-k},{x:a+h,y:b-k},{x:a+h,y:b}]},l[5]));i.each(function(a){this.polygon(a.color,n,e,m,a.shadow,a.alpha,a.points)},this);return this},polygon:function(a,b,d,c,g,h,f,i,n,e){this.save().strokeStyle(b,d,c).beginPath().fillStyle(a).globalAlpha(h).shadowOn(g).moveTo(f[0].x,f[0].y);if(i){this.moveTo(j(d,e[0].x),j(d,e[0].y)).lineTo(j(d,f[0].x),j(d,f[0].y));for(c=1;c<f.length;c++)this.bezierCurveTo(A(f,f[c],c,n));this.lineTo(j(d,e[1].x),j(d,e[1].y))}else for(c=1;c<f.length;c++)this.lineTo(j(d,f[c].x),j(d,f[c].y));return this.closePath().stroke(b).fill(a).restore()},lines:function(a,b,d,c){this.save().gCo(c).beginPath().strokeStyle(!0,b,d).moveTo(j(b,a[0]),j(b,a[1]));for(d=2;d<a.length-1;d+=2)this.lineTo(j(b,a[d]),j(b,a[d+1]));return this.stroke(!0).restore()},bezierCurveTo:function(a){this.c.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);return this},label:function(a,b,d){return this.save().beginPath().strokeStyle(!0,b,d).moveTo(j(b,a[0].x),j(b,a[0].y)).bezierCurveTo([a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y]).stroke(!0).restore()},lineArray:function(a,b,d,c,g){this.save().beginPath().strokeStyle(!0,b,d).moveTo(j(b,a[0].x),j(b,a[0].y));for(d=1;d<a.length;d++)c?this.bezierCurveTo(A(a,a[d],d,g||1.5)):this.lineTo(j(b,a[d].x),j(b,a[d].y));return this.stroke(!0).restore()},dotted:function(a,b,d,c,g,h,k,i,n){if(!g)return this;var a=j(g,a),b=j(g,b),d=j(g,d),c=j(g,c),e=f.distanceP2P(a,b,d,c),m;if(0>=k||e<=k||a!=d&&b!=c)return this.line(a,b,d,c,g,h,n);if(a>d||b>c)m=a,a=d,d=m,m=b,b=c,c=m;this.save().gCo(n).strokeStyle(!0,g,h).beginPath().moveTo(a,b);g=k*(i||1);h=q(e/(k+g));e=e-h*(k+g)>k;i=b==c;h=e?h+1:h;for(n=1;n<=h;n++)this.lineTo(i?a+k*n+g*(n-1):a,i?b:b+k*n+g*(n-1)).moveTo(i?a+(k+g)*n:a,i?b:b+(k+g)*n);e||this.lineTo(d,c);return this.stroke(!0).restore()},line:function(a,b,d,c,g,f,k){if(!g)return this;this.save().gCo(k);return this.beginPath().strokeStyle(!0,g,f).moveTo(j(g,a),j(g,b)).lineTo(j(g,d),j(g,c)).stroke(!0).restore()},round:function(a,b,d,c,g,f){return this.arc(a,b,d,0,0,x,c,!!f,g,f)},round0:function(a,b,d,c,f){return this.arc(a.x,a.y,b,0,0,x,d,!!f,c,f)},fillRect:function(a,b,d,c){this.c.fillRect(a,b,d,c);return this},translate:function(a,b){this.c.translate(a,b);return this},rotate:function(a){this.c.rotate(a);return this},clearRect:function(a,b,d,c){d=d||this.width;c=c||this.height;this.c.clearRect(a||0,b||0,d,c);return this},gCo:function(a){return a?this.gCO(a):this},gCO:function(a){this.c.globalCompositeOperation=a?"destination-over":"source-over";return this},box:function(a,b,d,c,g,h,k,i,n){g=g||{enable:0};if(g.enable){var e=g.width,m=g.color,l=g.radius,p=f.isNumber(e),e=f.parsePadding(e);e[0]==e[1]&&e[1]==e[2]&&e[2]==e[3]&&(p=!0);i=i?1:-1;d+=i*(e[1]+e[3])/2;c+=i*(e[0]+e[2])/2;a-=i*(e[3]/2);b-=i*(e[0]/2);e=p?e[0]:e;l=!p||!l||0==l||"0"==l?0:f.parsePadding(l)}this.save().gCo(n).fillStyle(h).strokeStyle(p,e,m);l?this.beginPath().moveTo(j(e,a+l[0]),j(e,b)).lineTo(j(e,a+d-l[1]),j(e,b)).arc2(j(e,a+d-l[1]),j(e,b+l[1]),l[1],3*r/2,x).lineTo(j(e,a+d),j(e,b+c-l[2])).arc2(j(e,a+d-l[2]),j(e,b+c-l[2]),l[2],0,r/2).lineTo(j(e,a+l[3]),j(e,b+c)).arc2(j(e,a+l[3]),j(e,b+c-l[3]),l[3],r/2,r).lineTo(j(e,a),j(e,b+l[0])).arc2(j(e,a+l[0]),j(e,b+l[0]),l[0],r,3*r/2).closePath().shadowOn(k).stroke(e).shadowOff().fill(h):!g.enable||p?(e&&g.enable&&(this.shadowOn(k).c.strokeRect(a,b,d,c),this.shadowOff()),h&&this.fillRect(a,b,d,c)):(e&&(m=f.isArray(m)?m:[m,m,m,m],this.shadowOn(k).line(a+d,b+e[0]/2,a+d,b+c-e[0]/2,e[1],m[1],0).line(a,b+e[0]/2,a,b+c-e[0]/2,e[3],m[3],0).line(q(a-e[3]/2),b,a+d+e[1]/2,b,e[0],m[0],0).line(q(a-e[3]/2),b+c,a+d+e[1]/2,b+c,e[2],m[2],0).shadowOff()),h&&this.beginPath().moveTo(q(a+e[3]/2),q(b+e[0]/2)).lineTo(v(a+d-e[1]/2),b+e[0]/2).lineTo(v(a+d-e[1]/2),v(b+c-e[2]/2)).lineTo(q(a+e[3]/2),v(b+c-e[2]/2)).lineTo(q(a+e[3]/2),q(b+e[0]/2)).closePath().fill(h));return this.restore()},toDataURL:function(a){return this.canvas.toDataURL(a||"image/png")},addEvent:function(a,b,d){f.Event.addEvent(this.canvas,a,b,d)}};f.taylor={light:function(a,b){b.highlight=!1;a.on("mouseover",function(){b.highlight=!0;a.redraw("mouseover")}).on("mouseout",function(){b.highlight=!1;a.redraw("mouseout")}).on("beforedraw",function(){a.push("f_color",b.highlight?a.get("light_color"):a.get("f_color_"));return!0})}};f.Chart=f.extend(f.Painter,{configure:function(){f.Chart.superclass.configure.apply(this,arguments);this.type="chart";this.dataType="simple";this.set({id:"",render:"",data:[],width:void 0,height:void 0,lineJoin:"round",align:"center",default_mouseover_css:!0,turn_off_touchmove:!1,showpercent:!1,decimalsnum:1,title:{text:"",fontweight:"bold",fontsize:20,height:30},subtitle:{text:"",fontweight:"bold",fontsize:16,height:20},footnote:{text:"",color:"#5d7f97",textAlign:"right",height:20},title_align:"center",title_valign:"top",animation:!1,doAnimation:null,animation_timing_function:"easeInOut",animation_duration:1E3,z_index:999,legend:{enable:!1},tip:{enable:!1}});this.registerEvent("beforeAnimation","afterAnimation","animating");this.T=null;this.Animationed=this.Combination=this.Rendered=!1;this.data=[];this.plugins=[];this.components=[];this.total=0;this.ICHARTJS_CHART=!0},toDataURL:function(a){return this.T.toDataURL(a)},segmentRect:function(){this.Combination||this.T.clearRect(this.get("l_originx"),this.get("t_originy"),this.get("client_width"),this.get("client_height"))},resetCanvas:function(){this.Combination||this.T.box(this.get("l_originx"),this.get("t_originy"),this.get("client_width"),this.get("client_height"),0,this.get("f_color"),0,0,!0)},animation:function(a){a.segmentRect();a.coo&&!a.ILLUSIVE_COO&&a.coo.draw();a.doAnimation(a.variable.animation.time,a.duration,a);a.legend&&a.legend.draw();a.plugins.each(function(b){b.A_draw&&(b.variable.animation.animating=!0,b.variable.animation.time=a.variable.animation.time,b.draw(),b.variable.animation.animating=!1)});a.Combination||(a.resetCanvas(),a.variable.animation.time<a.duration?(a.variable.animation.time++,f.requestAnimFrame(function(){a.animation(a)})):f.requestAnimFrame(function(){a.Animationed=!0;a.plugins.each(function(a){a.Animationed=!0});a.processAnimation=!1;a.draw();a.plugins.each(function(a){a.processAnimation=!1});a.fireEvent(a,"afterAnimation",[a])}))},runAnimation:function(a){a.fireEvent(a,"beforeAnimation",[a]);a.A_draw||(a.variable.animation={type:0,time:0,queue:[]});a.processAnimation=!0;a.animation(a)},doSort:function(){this.components.sor(function(a,b){return(f.isArray(a)?a.zIndex||0:a.get("z_index"))>(f.isArray(b)?b.zIndex||0:b.get("z_index"))})},commonDraw:function(a,b){a.redraw||(f.Assert.isTrue(a.Rendered,a.type+" has not rendered"),f.Assert.isTrue(a.data&&0<a.data.length,a.type+"'s data is empty"),f.Assert.isTrue(a.initialization,a.type+" Failed to initialize"),a.doSort(),a.oneways.eachAll(function(a){a.draw()}));a.redraw=!0;!a.Animationed&&a.get("animation")?a.runAnimation(a):(a.segmentRect(),a.components.eachAll(function(a){a.draw(b)}),a.resetCanvas())},plugin:function(a){var b=this._();a.inject(b);a.ICHARTJS_CHART&&(a.Combination=!0,a.setUp());b.get("animation")||a.push("animation",!1);a.duration=b.duration;b.components.push(a);b.plugins.push(a)},destroy:function(){this.components.eachAll(function(a){a.destroy()})},getTitle:function(){return this.title},getSubTitle:function(){return this.subtitle},getFootNote:function(){return this.footnote},getDrawingArea:function(){return{x:this.get("l_originx"),x:this.get("t_originy"),width:this.get("client_width"),height:this.get("client_height")}},setUp:function(){var a=this._();a.redraw=!1;a.T.clearRect();a.initialization=!1;a.initialize()},create:function(a,b){if(a.get("fit")){var d=window.innerWidth,c=window.innerHeight,g=f.getDoc().body.style;g.padding="0px";g.margin="0px";g.overflow="hidden";a.push(a.W,d);a.push(a.H,c)}a.canvasid=f.uid(a.type);a.shellid="shell-"+a.canvasid;d=[];d.push("<div id='");d.push(a.shellid);d.push("' style='padding:0px;margin:0px;overflow:hidden;position:relative;'>");d.push("<canvas id= '");d.push(a.canvasid);d.push("'><p>Your browser does not support the canvas element</p></canvas></div>");b.innerHTML=d.join("");a.shell=f(a.shellid);a.T=a.target=new z(a.canvasid);a.size(a);a.Rendered=!0},size:function(a){a.T.canvas.width=a.width=a.pushIf(a.W,400);a.T.canvas.height=a.height=a.pushIf(a.H,300);a.shell.style.width=a.width+"px";a.shell.style.height=a.height+"px"},initialize:function(){var a=this._(),b=a.get("data"),d=a.get("render");a.Combination?(f.apply(a.options,f.clone([a.W,a.H,"padding","border","client_height","client_width","minDistance","maxDistance","minstr","centerx","centery","l_originx","r_originx","t_originy","b_originy"],a.root.options,!0)),a.width=a.get(a.W),a.height=a.get(a.H),a.shell=a.root.shell,a.Rendered=!0):a.Rendered?(a.width!=a.get(a.W)||a.height!=a.get(a.H))&&a.size(a):d&&a.create(a,f(d));a.Rendered&&!a.initialization&&(b&&0<b.length?C.call(a,b,a):f.isString(a.get("url"))&&a.ajax.call(a,a.get("url"),function(b){a.push("data",b);a.initialize();a.draw()}))},eventOff:function(){this.stopEvent=!0},eventOn:function(){this.stopEvent=!1},oneWay:function(a){var b=a.variable.event,d=a.Combination,c=!a.get("turn_off_touchmove")&&!d,g=!f.touch&&a.get("default_mouseover_css")&&!d,h,k=f.touch?["touchstart","touchmove"]:["click","mousemove"];a.stopEvent=!1;a.A_draw=d&&a.processAnimation;f.register(a);d||k.each(function(b){a.T.addEvent(b,function(c){a.processAnimation||a.stopEvent||c.targetTouches&&1!=c.targetTouches.length||a.fireEvent(a,b,[a,f.Event.fix(c)])},!1)});a.on(k[0],function(a,d){a.components.eachAll(function(a){if(a.ICHARTJS_CHART){if(a.fireEvent(a,k[0],[a,d]))return b.click=!0,!1}else{var c=a.isMouseOver(d);if(c.valid)return b.click=!0,a.fireEvent(a,"click",[a,d,c]),!d.stopPropagation}});if(b.click)return c&&d.event.preventDefault(),b.click=!1,!0});if(!f.touch||c)if(a.on(k[1],function(a,c){h=!1;a.components.eachAll(function(a){if(a.ICHARTJS_CHART){if(a.fireEvent(a,k[1],[a,c]))return h=!0,!1}else{var b=a.variable.event,d=a.isMouseOver(c);if(d.valid){if(h=h||a.atomic,b.mouseover||(b.mouseover=!0,a.fireEvent(a,"mouseover",[a,c,d])),a.fireEvent(a,"mousemove",[a,c,d]),d.stop)return!1}else b.mouseover&&(b.mouseover=!1,a.fireEvent(a,"mouseout",[a,c,d]));return!c.stopPropagation}});if(b.mouseover)return c.event.preventDefault(),!h&&b.mouseover&&(b.mouseover=!1,a.fireEvent(a,"mouseout",[a,c])),b.mouseover;h&&(b.mouseover=h,a.fireEvent(a,"mouseover",[a,c]))}),g)a.on("mouseover",function(){a.T.css("cursor","pointer")}).on("mouseout",function(){a.T.css("cursor","default")});a.oneWay=f.emptyFn},originXY:function(a,b,d){var c=a.get("align");c==a.L?a.pushIf(a.X,b[0]):c==a.R?a.pushIf(a.X,b[1]):a.pushIf(a.X,b[2]);a.x=a.push(a.X,a.get(a.X)+a.get("offsetx"));a.y=a.push(a.Y,a.get(a.Y)||d[0]+a.get("offsety"));return{x:a.x,y:a.y}},getPercent:function(a,b){return this.get("showpercent")?(100*(a/(b||this.total||1))).toFixed(this.get("decimalsnum"))+"%":a},doActing:function(a,b,d,c,g){var c=!!a.get("communal_acting"),h=a.getPercent(b.value,b.total);a.push(c?"sub_option":"communal_acting",f.clone(a.get(c?"communal_acting":"sub_option"),!0));f.merge(a.get("sub_option"),b);f.merge(a.get("sub_option"),d);a.push("sub_option.value",h);a.get("sub_option.tip.enable")&&(a.push("sub_option.tip.text",g||b.name+" "+h),a.push("sub_option.tip.name",b.name),a.push("sub_option.tip.value",b.value),a.push("sub_option.tip.total",b.total||a.total))},doConfig:function(){f.Chart.superclass.doConfig.call(this);var a=this._();a.T.strokeStyle(!0,0,a.get("strokeStyle"),a.get("lineJoin"));a.processAnimation=a.get("animation");a.push("communal_acting",0);f.isFunction(a.get("doAnimation"))&&(a.doAnimation=a.get("doAnimation"));a.animationArithmetic=f.getAA(a.get("animation_timing_function"));a.destroy();a.components=[];a.plugins.each(function(b){a.components.push(b)});a.oneWay(a);f.applyIf(a.get("sub_option"),f.clone(["shadow","tip"],a.options,!0));a.push("r_originx",a.width-a.get("padding_right"));a.push("b_originy",a.height-a.get("padding_bottom"));a.oneways=[];if(!a.Combination){var b=0,d=a.push("l_originx",a.get("padding_left")),c=a.push("t_originy",a.get("padding_top")),g=a.push("client_width",a.width-a.get("hpadding"));a.duration=v(a.get("animation_duration")*f.FRAME/1E3);a.oneways.push(new f.Custom({drawFn:function(){a.T.box(0,0,a.width,a.height,a.get("border"),a.get("f_color"),0,0,true)}}));a.applyGradient();f.isString(a.get("title"))&&a.push("title",f.applyIf({text:a.get("title")},a.default_.title));f.isString(a.get("subtitle"))&&a.push("subtitle",f.applyIf({text:a.get("subtitle")},a.default_.subtitle));f.isString(a.get("footnote"))&&a.push("footnote",f.applyIf({text:a.get("footnote")},a.default_.footnote));if(""!=a.get("title.text")){var h=""!=a.get("subtitle.text"),b=h?a.get("title.height")+a.get("subtitle.height"):a.get("title.height"),c=a.push("t_originy",c+b);a.push("title.originx",d);a.push("title.originy",a.get("padding_top"));a.push("title.width",g);a.title=new f.Text(a.get("title"),a);a.oneways.push(a.title);h&&(a.push("subtitle.originx",d),a.push("subtitle.originy",a.get("title.originy")+a.get("title.height")),a.push("subtitle.width",g),a.subtitle=new f.Text(a.get("subtitle"),a),a.oneways.push(a.subtitle))}""!=a.get("footnote.text")&&(h=a.get("footnote.height"),b+=h,a.push("b_originy",a.get("b_originy")-h),a.push("footnote.originx",d),a.push("footnote.originy",a.get("b_originy")),a.push("footnote.width",g),a.footnote=new f.Text(a.get("footnote"),a),a.oneways.push(a.footnote));b=a.push("client_height",a.get(a.H)-a.get("vpadding")-b);a.push("minDistance",u(g,b));a.push("maxDistance",t(g,b));a.push("minstr",g<b?a.W:a.H);a.push("centerx",d+g/2);a.push("centery",c+b/2)}a.get("legend.enable")&&(a.legend=new f.Legend(f.apply({maxwidth:a.get("client_width"),data:a.data},a.get("legend")),a),a.components.push(a.legend));a.push("sub_option.tip.wrap",a.push("tip.wrap",a.shell))}})})(iChart);